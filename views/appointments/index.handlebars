<div class="appointments-container">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2>Agendamentos</h2>
        <a href="/appointments/new" class="btn btn-primary">Novo Agendamento</a>
    </div>
    {{#if error}}
        <div class="error">{{error}}</div>
    {{/if}}
    
    <div class="appointments-list">
        {{#if appointments.length}}
            <table>
                <thead>
                    <tr>
                        <th>Cliente</th>
                        <th>Telefone</th>
                        <th>Serviço</th>
                        <th>Data</th>
                        <th>Horário</th>
                        <th>Status</th>
                        <th>Ações</th>
                    </tr>
                </thead>
                <tbody>
                    {{#each appointments}}
                        <tr>
                            <td>{{clientName}}</td>
                            <td>{{phone}}</td>
                            <td>{{service}}</td>
                            <td>{{appointmentDate}}</td>
                            <td>{{appointmentTime}}</td>
                            <td>{{status}}</td>
                            <td class="actions">
                                <a href="/appointments/edit/{{id}}" class="btn btn-small">Editar</a>
                                <form action="/appointments/delete/{{id}}" method="POST" style="display: inline;">
                                    <input type="hidden" name="_csrf" value="{{../csrfToken}}">
                                    <button type="submit" class="btn btn-small btn-danger" onclick="return confirm('Tem certeza que deseja excluir este agendamento?')">Excluir</button>
                                </form>
                            </td>
                        </tr>
                    {{/each}}
                </tbody>
            </table>
        {{else}}
            <p>Nenhum agendamento encontrado.</p>
        {{/if}}
    </div>
</div>